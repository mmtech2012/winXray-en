**This fork aim to translate whole project from Chinese to English, feel free to contribute with me**

[Tips for getting started with winXray](./sub/introduce.md)   
[Related video list for winXray](https://www.youtube.com/results?search_query=winXray)  
[free vmess subscription link](https://proxypool.ga/vmess/sub)   
[Shadowsocks subscription link](https://proxypool.ga/ss/sub)     
[clash subscription link](https://proxypoolss.tk/clash/proxies?speed=100&type=vmess,trojan)   

You can copy the above subscription links in various formats, and click "Bulk Import Links" in winXray to experience winXray's strong compatibility.
The free server is only for testing (you must use PAC, do not open a global proxy, do not log in to your account, and do not use it for a long time).

# winXray 
winXray[:loud_sound:](http://dict.youdao.com/dictvoice?audio=winxray&type=2) fastest , simplest and most compatible Universal client with V2Ray、XRay、Trojan、Trojan-go、Shadowsocks、SSR(ShadowsocksR)、SSRoT、NaïveProxy，SOCKS，HTTP,HTTPS All-round universal client (Windows system), supports concurrent detection of a large number of servers and quickly finds the current fastest server. When the server connection is abnormal, it can automatically find other fastest servers-the switching speed is lightning fast, and the server obtained from the feed is abnormal Subscriptions can be automatically refreshed at any time, and it comes with one-click automatic deployment of server-side tools.

**The source code of this software has given up the copyright and contributed to the public domain** ，
The source code can be compiled with [aardio](http://www.aardio.com) to generate a single file green EXE, **[Click here to download](./../../raw/master/release/winXray.7z)** ([64-bit version)](./../../raw/master/release/winXray.7z) / ([32-bit version)](./../../raw/master/release/winXray32.7z), unzip it and use it directly (small size only **[6.1 MB](./../../raw/master/release/winXray.7z)**-comes with V2Ray Core).

# Read before use
Everyone knows why I have to delete the library and run away in the end. ! I deleted the library very quickly, because I wrote the code fast. I completed the main code of winXray in a few hours. After a few days of upgrading, I quickly reached the maturity level of other software written for several years! Because I am about to delete the library, but the updates I pushed up-fork projects are basically not so fast to actively pull updates. You can see that winXray only went online in just a few days and it exceeded 600 forks, so if I don’t push the update before Delete the library, then no one can find the latest version of the source code after I delete the library.
  
Nowadays, most anti-virus software is whitelisted, so the new EXE will report the virus randomly. Because I update too fast, I keep pushing new EXE up, so you may encounter false positives, but you can use the source. The code compiles the exact same EXE by yourself, and some people brag that other circumvention software does not make false positives-you can go to issues and search online to find out how many false positives are there, OK? ! If you encounter a false alarm, you can submit it to your antivirus vendor for verification, or you can compile the source code to generate an EXE and use it. It is easy to solve and verify the problem-other routines are redundant.
  
Originally, the winXray source code has given up the copyright and contributed to the public domain, but someone (TheMRLL) took the source code and dragged a big and ugly promotion button on it, and released a new version that claimed to be official without adding any function, and also made the source code very much. If something went wrong, I slandered the author (you claimed to be the official open source software if you didn’t understand the wrong information), and blocked and threatened posts that mentioned the original winXray. I was really surprised that there are such shameless people in the world. Give you freedom, won’t your conscience hurt if you look so ugly? ! Originally I wanted to change a license to restrict this bad behavior, but in the end I decided to continue to give up the copyright and continue to contribute the source code to the public domain. Now that the source code is open, it must be completely open. We cannot just because there is Individual villains give up their kind heart.

Recently it was discovered that TheMRLL has some very strange behaviors. Every time I release a new version, he copies and pastes it later and then changes the version number to release it. <span style="color:red"> What’s even more strange is that his commits are basically fake. I checked it with a file comparison tool. Many of his so-called improvements are just adding empty functions</span> (and the sample code generated by double-clicking the control in the development tool). In addition, he didn't know why a lot of code was placed in the wrong place when copying and pasting, so the program he provided had many strange bugs-the original version I provided was not available. Although I am not against everyone freely using winXray's source code, this TheMRLL is really outrageous. Please download the EXE provided by him safely and carefully.

# PAC 代理模式 / 全局代理 + 路由模式 对比

winXray 的 PAC 代理稳定、流畅、易用。  在 PAC 模式下，winXray 会优先启用高效安全的 SOCKS5 协议，并且可以自动兼容在 PAC 模式下仅支持 HTTP代理的应用。winXray 也可以在 PAC 模式下完美支持 Telegram IP 地址库 。

SOCKS5 支持对比：
- [ ] 全局路由模式: 不支持 SOCKS5
- [x] PAC模式: 支持 高效安全的SOCKS5   
  
UWP 应用支持对比：
- [ ] 全局路由模式: UWP 应用全部无法联网。
- [x] PAC模式: UWP 应用可以正常联网，使用 winXray 自带工具也可以为UWP应用开启本地代理。 

DNS 解析对比：
- [ ] 全局路由模式: 使用本机发起 DNS 解析，即使设为国外 DNS 服务器，仍然会返回适用于国内线路地址。
- [x] PAC模式: 使用服务器上的 DNS 解析，安全可靠。

根据客户端自动切换代理协议：
- [ ] 全局路由模式: 不支持
- [x] PAC模式: winXray 里的 PAC 代理可以让目标应用（例如浏览器）优先选择高效安全的 SOCKS5 代理协议，对于不支持 SOCKS 代理的应用（例如谷歌地球），winXray 在 PAC 模式下会自动为这些应用提供 HTTP 代理。

IP 段代理规则：
- [x] 全局路由模式: 比较好的支持 IP 段代理规则
- [x] PAC模式: winXray 里 PAC 可以支持IP 段代理规则（ 完美支持 Telegram ）。

独立性
- [ ] 全局路由模式: 不独立，代理规则集成在翻墙软件内核中
- [x] PAC模式: 完全独立，PAC 代理服务完全独立于翻墙软件，只有 PAC 指定的域名或IP才会与翻墙软件发生交互。

兼容性
- [ ] 全局路由模式: 不是由系统实现的规则，一旦设置全局代理，不管适不适合走代理的软件都被强制使用代理，所以兼容性不太好，会导致上述的 UWP 无法联网等问题。
- [x] PAC模式: 由系统提供的PAC有良好的兼容性，因为历史悠久，一般的软件都会对PAC有良好的兼容，PAC 主要为适合走代理的浏览器等软件而设计，所以其他软件可以较好的识别并判断是不是要使用 PAC 指定的代理还是直连。

简易度
- [ ] 全局路由模式: 配置复杂，有一定门槛。
- [x] PAC模式: 配置非常简单。


一般不建议普通用户去编辑路由规则 - 错误的配置可能会导致敏感的流量误走代理服务器。
专业的事请交给专业的人去做，使用 winXray 可以一键启用、更新 [v2ray-rules-dat](https://github.com/Loyalsoldier/v2ray-rules-dat) 提供的最新路由规则。

注意在 winXray 里无论使用 NaïveProxy 还是 SSR，SSRoT 都支持 V2Ray 路由规则。

# 设置系统代理失败怎么办
如果设置代理以后不能正常生效：请首先右键点击 winXray 任务栏的托盘图标，在弹出的右键菜单中点击【查看 Internet 代理设置】，并检查代理设置是否正常。如果 winXray 不能修改代理设置，但是可以手动修改成功，这一般是被安全软件错误地拦截了( 而且安全软件没有正常弹出确认对话框，或者误点了阻止设置 ）。这时候请到安全软件的相关设置中将 winXray 添加到信任列表即可。

如果不是上面的原因，请按下【Win + R】组合键打开系统运行对话框，输入 regedit 点击确定打开注册表路径 
<span style="color:green">HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Internet Settings\Connections</span>
然后将“Connections”项删除，注销一下系统即可正常使用代理了。

如果上面的方法仍然不行，请在注册表中打开打开路径
<span style="color:green">Computer\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WinHttpAutoProxySvc</span>
将 start 的值改为 2， 也就是将 WinHttpAutoProxySvc 服务改为自动启动，然后重启计算机即可。

# Core 默认路径：

可在「 winXray/ 配置 / Core配置 」 下载更新 V2Ray Core / Xray Core / SSR Core ，  
下载更新 V2Ray Core（或 Xray Core）完成后会自动切换 V2Ray 内核。

默认会在以下目录查找 V2Ray Core（或 Xray Core）：

    ./v2ray-core/
    %localappdata%\winXray\core

默认会在以下目录查找 SSR Core：

    ./v2ray-core/ssr-core
    %localappdata%\winXray\ssr-core

默认会在以下目录查找 NaïveProxy Core：

    ./v2ray-core/naive-core
    %localappdata%\winXray\naive-core

找不到会自动下载，没有代理访问 Github 会很慢很慢，有时可能根本打不开，建议经常运行一下 winXray 工具里自带的 【Github 网速优化工具】

注意不同的代理协议连接时会调用不同的 Core，   
例如 NaïveProxy 连接时会启动 naive.exe，这时候系统防火墙会有提示，  
如果这时候没看清就点了拒绝，那么就无法正常使用相应的 Core 了，  
所以请看清楚再点，点错了到系统防火墙里再打开一下就可以了。  

# 安装 NaïveProxy 服务端 

参考：https://github.com/klzgrad/naiveproxy  以 CentOS 为例：

```sh
yum intall golang
yum install git
go get -u github.com/caddyserver/xcaddy/cmd/xcaddy
~/go/bin/xcaddy build --with github.com/caddyserver/forwardproxy@caddy2=github.com/klzgrad/forwardproxy@naive
sudo setcap cap_net_bind_service=+ep ./caddy
wget -O naive.tar.xz  https://github.com/klzgrad/naiveproxy/releases/download/v88.0.4324.96-1/naiveproxy-v88.0.4324.96-1-linux-x64.tar.xz 
tar -xf ./naive.tar.xz

mv naiveproxy-v88.0.4324.96-1-linux-x64 naive
echo -e "{\n  \"listen\": \"socks://127.0.0.1:1080\",\n  \"proxy\": \"https://user:pass@example.com\"\n}" > ./naive/config.json

cat << EOF > ./Caddyfile
:443, example.com
tls me@example.com
route {
  forward_proxy {
    basic_auth user pass
    hide_ip
    hide_via
    probe_resistance
  }
  file_server { root /var/www/html }
}
EOF

iptables -A INPUT -p tcp --dport 80 -j ACCEPT;iptables -A INPUT -p tcp --dport 443 -j ACCEPT;firewall-cmd --permanent --add-port=80/tcp;firewall-cmd --permanent --add-port=443/tcp;firewall-cmd --reload;

./naive/naive --config ./naive/config.json &
./caddy run # 后台运行改成 ./caddy start
```

安装以前需要提前准备一个域名，并将上面脚本中的 example.com 替换为你的域名，user:pass 改为代理登录用户名与密码。

> Written with [StackEdit](https://stackedit.io/).
